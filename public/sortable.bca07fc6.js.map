{"version":3,"sources":["webpack://contao-fineuploader/./node_modules/sortablejs/Sortable.js","webpack://contao-fineuploader/webpack/bootstrap","webpack://contao-fineuploader/webpack/startup"],"names":["module","exports","_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","hasOwnProperty","call","apply","this","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","arr2","iter","toString","from","TypeError","version","userAgent","pattern","window","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","el","event","fn","addEventListener","off","removeEventListener","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","_","getParentOrHost","host","document","nodeType","parentNode","closest","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","name","state","classList","className","replace","css","prop","val","style","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","find","tagName","list","getElementsByTagName","n","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","left","bottom","right","height","width","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","a","scaleY","d","isScrolledPast","elSide","parentSide","parent","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","options","currentChild","children","display","Sortable","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","index","nodeName","toUpperCase","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","indexOfObject","Number","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","body","extend","dst","src","isRectEqual","rect1","rect2","Math","round","throttle","callback","ms","args","_this","setTimeout","cancelThrottle","clearTimeout","scrollBy","x","y","Polymer","$","jQuery","Zepto","dom","cloneNode","setRect","rect","unsetRect","expando","Date","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","slice","child","push","fromRect","thisAnimationDuration","childMatrix","f","e","addAnimationState","removeAnimationState","splice","animateAll","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","calculateRealTime","animate","max","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","repaint","easing","animated","offsetWidth","sqrt","pow","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","option","p","pluginName","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","charAt","substr","CustomEvent","createEvent","initEvent","bubbles","cancelable","to","item","pullMode","lastPutMode","undefined","allEventProperties","data","bind","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","active","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","createElement","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_dragElInRowColumn","dragRect","targetRect","vertical","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_detectNearestEmptySortable","ret","some","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","join","originalGroup","checkPull","checkPut","put","revertClone","preventDefault","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","clientX","clientY","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","sort","disabled","store","handle","test","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","get","_globalDragOver","dropEffect","_onMove","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_ghostIsLast","spacer","_getSwapDirection","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_generateId","str","href","sum","charCodeAt","_saveInputCheckedState","root","inputs","idx","checked","_nextTick","_cancelNextTick","id","contains","_getDirection","type","touch","pointerType","originalTarget","shadowRoot","path","composedPath","button","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","b","c","cssMatrix","appendChild","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","changed","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","side1","scrolledPastTop","scrollBefore","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","removeChild","save","handleEvent","toArray","order","getAttribute","useAnimation","items","set","destroy","querySelectorAll","removeAttribute","utils","is","nextTick","cancelNextTick","detectDirection","element","_len","_key","create","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","AutoScrollPlugin","AutoScroll","scroll","scrollSensitivity","scrollSpeed","bubbleScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","_ref2","dragOverBubble","drop","clearPointerElemChangedInterval","clearAutoScrolls","nulling","autoScroll","ogElemScroller","newElem","pid","lastSwapEl","isFallback","scrollCustomFn","sens","speed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","toSortable","changedTouches","onSpill","Revert","Remove","SwapPlugin","Swap","swapClass","dragStart","dragOverValid","swap","prevSwapEl","_ref3","swapNodes","swapItem","n1","n2","i1","i2","p1","p2","isEqualNode","startIndex","_ref4","parentSortable","lastMultiDragSelect","multiDragSortable","dragEl$1","clonesFromRect","clonesHidden","multiDragElements","multiDragClones","initialFolding","folding","MultiDragPlugin","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","selectedClass","multiDragKey","multiDragElement","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","_this2","removeMultiDragElements","dragOver","_ref8","_ref9","insertMultiDragElements","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","originalEvt","shiftKey","lastIndex","currentIndex","multiDragIndex","update","nullingGlobal","destroyGlobal","shift","select","deselect","_this3","oldIndicies","newIndicies","clones","toLowerCase","clonesInserted","elementsInserted","factory","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"mappings":"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","file":"sortable.bca07fc6.js","sourcesContent":["/**!\n * Sortable 1.13.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Sortable = factory());\n}(this, function () { 'use strict';\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      var ownKeys = Object.keys(source);\n\n      if (typeof Object.getOwnPropertySymbols === 'function') {\n        ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n        }));\n      }\n\n      ownKeys.forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    }\n\n    return target;\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n      return arr2;\n    }\n  }\n\n  function _iterableToArray(iter) {\n    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n  }\n\n  var version = \"1.13.0\";\n\n  function userAgent(pattern) {\n    if (typeof window !== 'undefined' && window.navigator) {\n      return !!\n      /*@__PURE__*/\n      navigator.userAgent.match(pattern);\n    }\n  }\n\n  var IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\n  var Edge = userAgent(/Edge/i);\n  var FireFox = userAgent(/firefox/i);\n  var Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\n  var IOS = userAgent(/iP(ad|od|hone)/i);\n  var ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\n  var captureMode = {\n    capture: false,\n    passive: false\n  };\n\n  function on(el, event, fn) {\n    el.addEventListener(event, fn, !IE11OrLess && captureMode);\n  }\n\n  function off(el, event, fn) {\n    el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n  }\n\n  function matches(\n  /**HTMLElement*/\n  el,\n  /**String*/\n  selector) {\n    if (!selector) return;\n    selector[0] === '>' && (selector = selector.substring(1));\n\n    if (el) {\n      try {\n        if (el.matches) {\n          return el.matches(selector);\n        } else if (el.msMatchesSelector) {\n          return el.msMatchesSelector(selector);\n        } else if (el.webkitMatchesSelector) {\n          return el.webkitMatchesSelector(selector);\n        }\n      } catch (_) {\n        return false;\n      }\n    }\n\n    return false;\n  }\n\n  function getParentOrHost(el) {\n    return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n  }\n\n  function closest(\n  /**HTMLElement*/\n  el,\n  /**String*/\n  selector,\n  /**HTMLElement*/\n  ctx, includeCTX) {\n    if (el) {\n      ctx = ctx || document;\n\n      do {\n        if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n          return el;\n        }\n\n        if (el === ctx) break;\n        /* jshint boss:true */\n      } while (el = getParentOrHost(el));\n    }\n\n    return null;\n  }\n\n  var R_SPACE = /\\s+/g;\n\n  function toggleClass(el, name, state) {\n    if (el && name) {\n      if (el.classList) {\n        el.classList[state ? 'add' : 'remove'](name);\n      } else {\n        var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n        el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n      }\n    }\n  }\n\n  function css(el, prop, val) {\n    var style = el && el.style;\n\n    if (style) {\n      if (val === void 0) {\n        if (document.defaultView && document.defaultView.getComputedStyle) {\n          val = document.defaultView.getComputedStyle(el, '');\n        } else if (el.currentStyle) {\n          val = el.currentStyle;\n        }\n\n        return prop === void 0 ? val : val[prop];\n      } else {\n        if (!(prop in style) && prop.indexOf('webkit') === -1) {\n          prop = '-webkit-' + prop;\n        }\n\n        style[prop] = val + (typeof val === 'string' ? '' : 'px');\n      }\n    }\n  }\n\n  function matrix(el, selfOnly) {\n    var appliedTransforms = '';\n\n    if (typeof el === 'string') {\n      appliedTransforms = el;\n    } else {\n      do {\n        var transform = css(el, 'transform');\n\n        if (transform && transform !== 'none') {\n          appliedTransforms = transform + ' ' + appliedTransforms;\n        }\n        /* jshint boss:true */\n\n      } while (!selfOnly && (el = el.parentNode));\n    }\n\n    var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n    /*jshint -W056 */\n\n    return matrixFn && new matrixFn(appliedTransforms);\n  }\n\n  function find(ctx, tagName, iterator) {\n    if (ctx) {\n      var list = ctx.getElementsByTagName(tagName),\n          i = 0,\n          n = list.length;\n\n      if (iterator) {\n        for (; i < n; i++) {\n          iterator(list[i], i);\n        }\n      }\n\n      return list;\n    }\n\n    return [];\n  }\n\n  function getWindowScrollingElement() {\n    var scrollingElement = document.scrollingElement;\n\n    if (scrollingElement) {\n      return scrollingElement;\n    } else {\n      return document.documentElement;\n    }\n  }\n  /**\n   * Returns the \"bounding client rect\" of given element\n   * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n   * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n   * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n   * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n   * @param  {[HTMLElement]} container              The parent the element will be placed in\n   * @return {Object}                               The boundingClientRect of el, with specified adjustments\n   */\n\n\n  function getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n    if (!el.getBoundingClientRect && el !== window) return;\n    var elRect, top, left, bottom, right, height, width;\n\n    if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n      elRect = el.getBoundingClientRect();\n      top = elRect.top;\n      left = elRect.left;\n      bottom = elRect.bottom;\n      right = elRect.right;\n      height = elRect.height;\n      width = elRect.width;\n    } else {\n      top = 0;\n      left = 0;\n      bottom = window.innerHeight;\n      right = window.innerWidth;\n      height = window.innerHeight;\n      width = window.innerWidth;\n    }\n\n    if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n      // Adjust for translate()\n      container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n      // Not needed on <= IE11\n\n      if (!IE11OrLess) {\n        do {\n          if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n            var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n            top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n            left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n            bottom = top + elRect.height;\n            right = left + elRect.width;\n            break;\n          }\n          /* jshint boss:true */\n\n        } while (container = container.parentNode);\n      }\n    }\n\n    if (undoScale && el !== window) {\n      // Adjust for scale()\n      var elMatrix = matrix(container || el),\n          scaleX = elMatrix && elMatrix.a,\n          scaleY = elMatrix && elMatrix.d;\n\n      if (elMatrix) {\n        top /= scaleY;\n        left /= scaleX;\n        width /= scaleX;\n        height /= scaleY;\n        bottom = top + height;\n        right = left + width;\n      }\n    }\n\n    return {\n      top: top,\n      left: left,\n      bottom: bottom,\n      right: right,\n      width: width,\n      height: height\n    };\n  }\n  /**\n   * Checks if a side of an element is scrolled past a side of its parents\n   * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n   * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n   * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n   * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n   */\n\n\n  function isScrolledPast(el, elSide, parentSide) {\n    var parent = getParentAutoScrollElement(el, true),\n        elSideVal = getRect(el)[elSide];\n    /* jshint boss:true */\n\n    while (parent) {\n      var parentSideVal = getRect(parent)[parentSide],\n          visible = void 0;\n\n      if (parentSide === 'top' || parentSide === 'left') {\n        visible = elSideVal >= parentSideVal;\n      } else {\n        visible = elSideVal <= parentSideVal;\n      }\n\n      if (!visible) return parent;\n      if (parent === getWindowScrollingElement()) break;\n      parent = getParentAutoScrollElement(parent, false);\n    }\n\n    return false;\n  }\n  /**\n   * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n   * and non-draggable elements\n   * @param  {HTMLElement} el       The parent element\n   * @param  {Number} childNum      The index of the child\n   * @param  {Object} options       Parent Sortable's options\n   * @return {HTMLElement}          The child at index childNum, or null if not found\n   */\n\n\n  function getChild(el, childNum, options) {\n    var currentChild = 0,\n        i = 0,\n        children = el.children;\n\n    while (i < children.length) {\n      if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n        if (currentChild === childNum) {\n          return children[i];\n        }\n\n        currentChild++;\n      }\n\n      i++;\n    }\n\n    return null;\n  }\n  /**\n   * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n   * @param  {HTMLElement} el       Parent element\n   * @param  {selector} selector    Any other elements that should be ignored\n   * @return {HTMLElement}          The last child, ignoring ghostEl\n   */\n\n\n  function lastChild(el, selector) {\n    var last = el.lastElementChild;\n\n    while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n      last = last.previousElementSibling;\n    }\n\n    return last || null;\n  }\n  /**\n   * Returns the index of an element within its parent for a selected set of\n   * elements\n   * @param  {HTMLElement} el\n   * @param  {selector} selector\n   * @return {number}\n   */\n\n\n  function index(el, selector) {\n    var index = 0;\n\n    if (!el || !el.parentNode) {\n      return -1;\n    }\n    /* jshint boss:true */\n\n\n    while (el = el.previousElementSibling) {\n      if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n        index++;\n      }\n    }\n\n    return index;\n  }\n  /**\n   * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n   * The value is returned in real pixels.\n   * @param  {HTMLElement} el\n   * @return {Array}             Offsets in the format of [left, top]\n   */\n\n\n  function getRelativeScrollOffset(el) {\n    var offsetLeft = 0,\n        offsetTop = 0,\n        winScroller = getWindowScrollingElement();\n\n    if (el) {\n      do {\n        var elMatrix = matrix(el),\n            scaleX = elMatrix.a,\n            scaleY = elMatrix.d;\n        offsetLeft += el.scrollLeft * scaleX;\n        offsetTop += el.scrollTop * scaleY;\n      } while (el !== winScroller && (el = el.parentNode));\n    }\n\n    return [offsetLeft, offsetTop];\n  }\n  /**\n   * Returns the index of the object within the given array\n   * @param  {Array} arr   Array that may or may not hold the object\n   * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n   * @return {Number}      The index of the object in the array, or -1\n   */\n\n\n  function indexOfObject(arr, obj) {\n    for (var i in arr) {\n      if (!arr.hasOwnProperty(i)) continue;\n\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n      }\n    }\n\n    return -1;\n  }\n\n  function getParentAutoScrollElement(el, includeSelf) {\n    // skip to window\n    if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n    var elem = el;\n    var gotSelf = false;\n\n    do {\n      // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n      if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n        var elemCSS = css(elem);\n\n        if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n          if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n          if (gotSelf || includeSelf) return elem;\n          gotSelf = true;\n        }\n      }\n      /* jshint boss:true */\n\n    } while (elem = elem.parentNode);\n\n    return getWindowScrollingElement();\n  }\n\n  function extend(dst, src) {\n    if (dst && src) {\n      for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n          dst[key] = src[key];\n        }\n      }\n    }\n\n    return dst;\n  }\n\n  function isRectEqual(rect1, rect2) {\n    return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n  }\n\n  var _throttleTimeout;\n\n  function throttle(callback, ms) {\n    return function () {\n      if (!_throttleTimeout) {\n        var args = arguments,\n            _this = this;\n\n        if (args.length === 1) {\n          callback.call(_this, args[0]);\n        } else {\n          callback.apply(_this, args);\n        }\n\n        _throttleTimeout = setTimeout(function () {\n          _throttleTimeout = void 0;\n        }, ms);\n      }\n    };\n  }\n\n  function cancelThrottle() {\n    clearTimeout(_throttleTimeout);\n    _throttleTimeout = void 0;\n  }\n\n  function scrollBy(el, x, y) {\n    el.scrollLeft += x;\n    el.scrollTop += y;\n  }\n\n  function clone(el) {\n    var Polymer = window.Polymer;\n    var $ = window.jQuery || window.Zepto;\n\n    if (Polymer && Polymer.dom) {\n      return Polymer.dom(el).cloneNode(true);\n    } else if ($) {\n      return $(el).clone(true)[0];\n    } else {\n      return el.cloneNode(true);\n    }\n  }\n\n  function setRect(el, rect) {\n    css(el, 'position', 'absolute');\n    css(el, 'top', rect.top);\n    css(el, 'left', rect.left);\n    css(el, 'width', rect.width);\n    css(el, 'height', rect.height);\n  }\n\n  function unsetRect(el) {\n    css(el, 'position', '');\n    css(el, 'top', '');\n    css(el, 'left', '');\n    css(el, 'width', '');\n    css(el, 'height', '');\n  }\n\n  var expando = 'Sortable' + new Date().getTime();\n\n  function AnimationStateManager() {\n    var animationStates = [],\n        animationCallbackId;\n    return {\n      captureAnimationState: function captureAnimationState() {\n        animationStates = [];\n        if (!this.options.animation) return;\n        var children = [].slice.call(this.el.children);\n        children.forEach(function (child) {\n          if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n          animationStates.push({\n            target: child,\n            rect: getRect(child)\n          });\n\n          var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n          if (child.thisAnimationDuration) {\n            var childMatrix = matrix(child, true);\n\n            if (childMatrix) {\n              fromRect.top -= childMatrix.f;\n              fromRect.left -= childMatrix.e;\n            }\n          }\n\n          child.fromRect = fromRect;\n        });\n      },\n      addAnimationState: function addAnimationState(state) {\n        animationStates.push(state);\n      },\n      removeAnimationState: function removeAnimationState(target) {\n        animationStates.splice(indexOfObject(animationStates, {\n          target: target\n        }), 1);\n      },\n      animateAll: function animateAll(callback) {\n        var _this = this;\n\n        if (!this.options.animation) {\n          clearTimeout(animationCallbackId);\n          if (typeof callback === 'function') callback();\n          return;\n        }\n\n        var animating = false,\n            animationTime = 0;\n        animationStates.forEach(function (state) {\n          var time = 0,\n              target = state.target,\n              fromRect = target.fromRect,\n              toRect = getRect(target),\n              prevFromRect = target.prevFromRect,\n              prevToRect = target.prevToRect,\n              animatingRect = state.rect,\n              targetMatrix = matrix(target, true);\n\n          if (targetMatrix) {\n            // Compensate for current animation\n            toRect.top -= targetMatrix.f;\n            toRect.left -= targetMatrix.e;\n          }\n\n          target.toRect = toRect;\n\n          if (target.thisAnimationDuration) {\n            // Could also check if animatingRect is between fromRect and toRect\n            if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n            (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n              // If returning to same place as started from animation and on same axis\n              time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n            }\n          } // if fromRect != toRect: animate\n\n\n          if (!isRectEqual(toRect, fromRect)) {\n            target.prevFromRect = fromRect;\n            target.prevToRect = toRect;\n\n            if (!time) {\n              time = _this.options.animation;\n            }\n\n            _this.animate(target, animatingRect, toRect, time);\n          }\n\n          if (time) {\n            animating = true;\n            animationTime = Math.max(animationTime, time);\n            clearTimeout(target.animationResetTimer);\n            target.animationResetTimer = setTimeout(function () {\n              target.animationTime = 0;\n              target.prevFromRect = null;\n              target.fromRect = null;\n              target.prevToRect = null;\n              target.thisAnimationDuration = null;\n            }, time);\n            target.thisAnimationDuration = time;\n          }\n        });\n        clearTimeout(animationCallbackId);\n\n        if (!animating) {\n          if (typeof callback === 'function') callback();\n        } else {\n          animationCallbackId = setTimeout(function () {\n            if (typeof callback === 'function') callback();\n          }, animationTime);\n        }\n\n        animationStates = [];\n      },\n      animate: function animate(target, currentRect, toRect, duration) {\n        if (duration) {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          var elMatrix = matrix(this.el),\n              scaleX = elMatrix && elMatrix.a,\n              scaleY = elMatrix && elMatrix.d,\n              translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n              translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n          target.animatingX = !!translateX;\n          target.animatingY = !!translateY;\n          css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n          this.forRepaintDummy = repaint(target); // repaint\n\n          css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n          css(target, 'transform', 'translate3d(0,0,0)');\n          typeof target.animated === 'number' && clearTimeout(target.animated);\n          target.animated = setTimeout(function () {\n            css(target, 'transition', '');\n            css(target, 'transform', '');\n            target.animated = false;\n            target.animatingX = false;\n            target.animatingY = false;\n          }, duration);\n        }\n      }\n    };\n  }\n\n  function repaint(target) {\n    return target.offsetWidth;\n  }\n\n  function calculateRealTime(animatingRect, fromRect, toRect, options) {\n    return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n  }\n\n  var plugins = [];\n  var defaults = {\n    initializeByDefault: true\n  };\n  var PluginManager = {\n    mount: function mount(plugin) {\n      // Set default static properties\n      for (var option in defaults) {\n        if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n          plugin[option] = defaults[option];\n        }\n      }\n\n      plugins.forEach(function (p) {\n        if (p.pluginName === plugin.pluginName) {\n          throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n        }\n      });\n      plugins.push(plugin);\n    },\n    pluginEvent: function pluginEvent(eventName, sortable, evt) {\n      var _this = this;\n\n      this.eventCanceled = false;\n\n      evt.cancel = function () {\n        _this.eventCanceled = true;\n      };\n\n      var eventNameGlobal = eventName + 'Global';\n      plugins.forEach(function (plugin) {\n        if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n        if (sortable[plugin.pluginName][eventNameGlobal]) {\n          sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n            sortable: sortable\n          }, evt));\n        } // Only fire plugin event if plugin is enabled in this sortable,\n        // and plugin has event defined\n\n\n        if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n          sortable[plugin.pluginName][eventName](_objectSpread({\n            sortable: sortable\n          }, evt));\n        }\n      });\n    },\n    initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n      plugins.forEach(function (plugin) {\n        var pluginName = plugin.pluginName;\n        if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n        var initialized = new plugin(sortable, el, sortable.options);\n        initialized.sortable = sortable;\n        initialized.options = sortable.options;\n        sortable[pluginName] = initialized; // Add default options from plugin\n\n        _extends(defaults, initialized.defaults);\n      });\n\n      for (var option in sortable.options) {\n        if (!sortable.options.hasOwnProperty(option)) continue;\n        var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n        if (typeof modified !== 'undefined') {\n          sortable.options[option] = modified;\n        }\n      }\n    },\n    getEventProperties: function getEventProperties(name, sortable) {\n      var eventProperties = {};\n      plugins.forEach(function (plugin) {\n        if (typeof plugin.eventProperties !== 'function') return;\n\n        _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n      });\n      return eventProperties;\n    },\n    modifyOption: function modifyOption(sortable, name, value) {\n      var modifiedValue;\n      plugins.forEach(function (plugin) {\n        // Plugin must exist on the Sortable\n        if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n        if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n          modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n        }\n      });\n      return modifiedValue;\n    }\n  };\n\n  function dispatchEvent(_ref) {\n    var sortable = _ref.sortable,\n        rootEl = _ref.rootEl,\n        name = _ref.name,\n        targetEl = _ref.targetEl,\n        cloneEl = _ref.cloneEl,\n        toEl = _ref.toEl,\n        fromEl = _ref.fromEl,\n        oldIndex = _ref.oldIndex,\n        newIndex = _ref.newIndex,\n        oldDraggableIndex = _ref.oldDraggableIndex,\n        newDraggableIndex = _ref.newDraggableIndex,\n        originalEvent = _ref.originalEvent,\n        putSortable = _ref.putSortable,\n        extraEventProperties = _ref.extraEventProperties;\n    sortable = sortable || rootEl && rootEl[expando];\n    if (!sortable) return;\n    var evt,\n        options = sortable.options,\n        onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n    if (window.CustomEvent && !IE11OrLess && !Edge) {\n      evt = new CustomEvent(name, {\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      evt = document.createEvent('Event');\n      evt.initEvent(name, true, true);\n    }\n\n    evt.to = toEl || rootEl;\n    evt.from = fromEl || rootEl;\n    evt.item = targetEl || rootEl;\n    evt.clone = cloneEl;\n    evt.oldIndex = oldIndex;\n    evt.newIndex = newIndex;\n    evt.oldDraggableIndex = oldDraggableIndex;\n    evt.newDraggableIndex = newDraggableIndex;\n    evt.originalEvent = originalEvent;\n    evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n    var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n    for (var option in allEventProperties) {\n      evt[option] = allEventProperties[option];\n    }\n\n    if (rootEl) {\n      rootEl.dispatchEvent(evt);\n    }\n\n    if (options[onName]) {\n      options[onName].call(sortable, evt);\n    }\n  }\n\n  var pluginEvent = function pluginEvent(eventName, sortable) {\n    var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        originalEvent = _ref.evt,\n        data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n    PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n      dragEl: dragEl,\n      parentEl: parentEl,\n      ghostEl: ghostEl,\n      rootEl: rootEl,\n      nextEl: nextEl,\n      lastDownEl: lastDownEl,\n      cloneEl: cloneEl,\n      cloneHidden: cloneHidden,\n      dragStarted: moved,\n      putSortable: putSortable,\n      activeSortable: Sortable.active,\n      originalEvent: originalEvent,\n      oldIndex: oldIndex,\n      oldDraggableIndex: oldDraggableIndex,\n      newIndex: newIndex,\n      newDraggableIndex: newDraggableIndex,\n      hideGhostForTarget: _hideGhostForTarget,\n      unhideGhostForTarget: _unhideGhostForTarget,\n      cloneNowHidden: function cloneNowHidden() {\n        cloneHidden = true;\n      },\n      cloneNowShown: function cloneNowShown() {\n        cloneHidden = false;\n      },\n      dispatchSortableEvent: function dispatchSortableEvent(name) {\n        _dispatchEvent({\n          sortable: sortable,\n          name: name,\n          originalEvent: originalEvent\n        });\n      }\n    }, data));\n  };\n\n  function _dispatchEvent(info) {\n    dispatchEvent(_objectSpread({\n      putSortable: putSortable,\n      cloneEl: cloneEl,\n      targetEl: dragEl,\n      rootEl: rootEl,\n      oldIndex: oldIndex,\n      oldDraggableIndex: oldDraggableIndex,\n      newIndex: newIndex,\n      newDraggableIndex: newDraggableIndex\n    }, info));\n  }\n\n  var dragEl,\n      parentEl,\n      ghostEl,\n      rootEl,\n      nextEl,\n      lastDownEl,\n      cloneEl,\n      cloneHidden,\n      oldIndex,\n      newIndex,\n      oldDraggableIndex,\n      newDraggableIndex,\n      activeGroup,\n      putSortable,\n      awaitingDragStarted = false,\n      ignoreNextClick = false,\n      sortables = [],\n      tapEvt,\n      touchEvt,\n      lastDx,\n      lastDy,\n      tapDistanceLeft,\n      tapDistanceTop,\n      moved,\n      lastTarget,\n      lastDirection,\n      pastFirstInvertThresh = false,\n      isCircumstantialInvert = false,\n      targetMoveDistance,\n      // For positioning ghost absolutely\n  ghostRelativeParent,\n      ghostRelativeParentInitialScroll = [],\n      // (left, top)\n  _silent = false,\n      savedInputChecked = [];\n  /** @const */\n\n  var documentExists = typeof document !== 'undefined',\n      PositionGhostAbsolutely = IOS,\n      CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n      // This will not pass for IE9, because IE9 DnD only works on anchors\n  supportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n      supportCssPointerEvents = function () {\n    if (!documentExists) return; // false when <= IE11\n\n    if (IE11OrLess) {\n      return false;\n    }\n\n    var el = document.createElement('x');\n    el.style.cssText = 'pointer-events:auto';\n    return el.style.pointerEvents === 'auto';\n  }(),\n      _detectDirection = function _detectDirection(el, options) {\n    var elCSS = css(el),\n        elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n        child1 = getChild(el, 0, options),\n        child2 = getChild(el, 1, options),\n        firstChildCSS = child1 && css(child1),\n        secondChildCSS = child2 && css(child2),\n        firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n        secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n    if (elCSS.display === 'flex') {\n      return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n    }\n\n    if (elCSS.display === 'grid') {\n      return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n    }\n\n    if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n      var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n      return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n    }\n\n    return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n  },\n      _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n    var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n        dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n        dragElOppLength = vertical ? dragRect.width : dragRect.height,\n        targetS1Opp = vertical ? targetRect.left : targetRect.top,\n        targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n        targetOppLength = vertical ? targetRect.width : targetRect.height;\n    return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n  },\n\n  /**\n   * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n   * @param  {Number} x      X position\n   * @param  {Number} y      Y position\n   * @return {HTMLElement}   Element of the first found nearest Sortable\n   */\n  _detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n    var ret;\n    sortables.some(function (sortable) {\n      if (lastChild(sortable)) return;\n      var rect = getRect(sortable),\n          threshold = sortable[expando].options.emptyInsertThreshold,\n          insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n          insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n      if (threshold && insideHorizontally && insideVertically) {\n        return ret = sortable;\n      }\n    });\n    return ret;\n  },\n      _prepareGroup = function _prepareGroup(options) {\n    function toFn(value, pull) {\n      return function (to, from, dragEl, evt) {\n        var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n        if (value == null && (pull || sameGroup)) {\n          // Default pull value\n          // Default pull and put value if same group\n          return true;\n        } else if (value == null || value === false) {\n          return false;\n        } else if (pull && value === 'clone') {\n          return value;\n        } else if (typeof value === 'function') {\n          return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n        } else {\n          var otherGroup = (pull ? to : from).options.group.name;\n          return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n        }\n      };\n    }\n\n    var group = {};\n    var originalGroup = options.group;\n\n    if (!originalGroup || _typeof(originalGroup) != 'object') {\n      originalGroup = {\n        name: originalGroup\n      };\n    }\n\n    group.name = originalGroup.name;\n    group.checkPull = toFn(originalGroup.pull, true);\n    group.checkPut = toFn(originalGroup.put);\n    group.revertClone = originalGroup.revertClone;\n    options.group = group;\n  },\n      _hideGhostForTarget = function _hideGhostForTarget() {\n    if (!supportCssPointerEvents && ghostEl) {\n      css(ghostEl, 'display', 'none');\n    }\n  },\n      _unhideGhostForTarget = function _unhideGhostForTarget() {\n    if (!supportCssPointerEvents && ghostEl) {\n      css(ghostEl, 'display', '');\n    }\n  }; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\n  if (documentExists) {\n    document.addEventListener('click', function (evt) {\n      if (ignoreNextClick) {\n        evt.preventDefault();\n        evt.stopPropagation && evt.stopPropagation();\n        evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n        ignoreNextClick = false;\n        return false;\n      }\n    }, true);\n  }\n\n  var nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n    if (dragEl) {\n      evt = evt.touches ? evt.touches[0] : evt;\n\n      var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n      if (nearest) {\n        // Create imitation event\n        var event = {};\n\n        for (var i in evt) {\n          if (evt.hasOwnProperty(i)) {\n            event[i] = evt[i];\n          }\n        }\n\n        event.target = event.rootEl = nearest;\n        event.preventDefault = void 0;\n        event.stopPropagation = void 0;\n\n        nearest[expando]._onDragOver(event);\n      }\n    }\n  };\n\n  var _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n    if (dragEl) {\n      dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n    }\n  };\n  /**\n   * @class  Sortable\n   * @param  {HTMLElement}  el\n   * @param  {Object}       [options]\n   */\n\n\n  function Sortable(el, options) {\n    if (!(el && el.nodeType && el.nodeType === 1)) {\n      throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n    }\n\n    this.el = el; // root element\n\n    this.options = options = _extends({}, options); // Export instance\n\n    el[expando] = this;\n    var defaults = {\n      group: null,\n      sort: true,\n      disabled: false,\n      store: null,\n      handle: null,\n      draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n      swapThreshold: 1,\n      // percentage; 0 <= x <= 1\n      invertSwap: false,\n      // invert always\n      invertedSwapThreshold: null,\n      // will be set to same as swapThreshold if default\n      removeCloneOnHide: true,\n      direction: function direction() {\n        return _detectDirection(el, this.options);\n      },\n      ghostClass: 'sortable-ghost',\n      chosenClass: 'sortable-chosen',\n      dragClass: 'sortable-drag',\n      ignore: 'a, img',\n      filter: null,\n      preventOnFilter: true,\n      animation: 0,\n      easing: null,\n      setData: function setData(dataTransfer, dragEl) {\n        dataTransfer.setData('Text', dragEl.textContent);\n      },\n      dropBubble: false,\n      dragoverBubble: false,\n      dataIdAttr: 'data-id',\n      delay: 0,\n      delayOnTouchOnly: false,\n      touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n      forceFallback: false,\n      fallbackClass: 'sortable-fallback',\n      fallbackOnBody: false,\n      fallbackTolerance: 0,\n      fallbackOffset: {\n        x: 0,\n        y: 0\n      },\n      supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n      emptyInsertThreshold: 5\n    };\n    PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n    for (var name in defaults) {\n      !(name in options) && (options[name] = defaults[name]);\n    }\n\n    _prepareGroup(options); // Bind all private methods\n\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    } // Setup drag mode\n\n\n    this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n    if (this.nativeDraggable) {\n      // Touch start threshold cannot be greater than the native dragstart threshold\n      this.options.touchStartThreshold = 1;\n    } // Bind events\n\n\n    if (options.supportPointer) {\n      on(el, 'pointerdown', this._onTapStart);\n    } else {\n      on(el, 'mousedown', this._onTapStart);\n      on(el, 'touchstart', this._onTapStart);\n    }\n\n    if (this.nativeDraggable) {\n      on(el, 'dragover', this);\n      on(el, 'dragenter', this);\n    }\n\n    sortables.push(this.el); // Restore sorting\n\n    options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n    _extends(this, AnimationStateManager());\n  }\n\n  Sortable.prototype =\n  /** @lends Sortable.prototype */\n  {\n    constructor: Sortable,\n    _isOutsideThisEl: function _isOutsideThisEl(target) {\n      if (!this.el.contains(target) && target !== this.el) {\n        lastTarget = null;\n      }\n    },\n    _getDirection: function _getDirection(evt, target) {\n      return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n    },\n    _onTapStart: function _onTapStart(\n    /** Event|TouchEvent */\n    evt) {\n      if (!evt.cancelable) return;\n\n      var _this = this,\n          el = this.el,\n          options = this.options,\n          preventOnFilter = options.preventOnFilter,\n          type = evt.type,\n          touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n          target = (touch || evt).target,\n          originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n          filter = options.filter;\n\n      _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n      if (dragEl) {\n        return;\n      }\n\n      if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n        return; // only left button and enabled\n      } // cancel dnd if original target is content editable\n\n\n      if (originalTarget.isContentEditable) {\n        return;\n      } // Safari ignores further event handling after mousedown\n\n\n      if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n        return;\n      }\n\n      target = closest(target, options.draggable, el, false);\n\n      if (target && target.animated) {\n        return;\n      }\n\n      if (lastDownEl === target) {\n        // Ignoring duplicate `down`\n        return;\n      } // Get the index of the dragged element within its parent\n\n\n      oldIndex = index(target);\n      oldDraggableIndex = index(target, options.draggable); // Check filter\n\n      if (typeof filter === 'function') {\n        if (filter.call(this, evt, target, this)) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: originalTarget,\n            name: 'filter',\n            targetEl: target,\n            toEl: el,\n            fromEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          preventOnFilter && evt.cancelable && evt.preventDefault();\n          return; // cancel dnd\n        }\n      } else if (filter) {\n        filter = filter.split(',').some(function (criteria) {\n          criteria = closest(originalTarget, criteria.trim(), el, false);\n\n          if (criteria) {\n            _dispatchEvent({\n              sortable: _this,\n              rootEl: criteria,\n              name: 'filter',\n              targetEl: target,\n              fromEl: el,\n              toEl: el\n            });\n\n            pluginEvent('filter', _this, {\n              evt: evt\n            });\n            return true;\n          }\n        });\n\n        if (filter) {\n          preventOnFilter && evt.cancelable && evt.preventDefault();\n          return; // cancel dnd\n        }\n      }\n\n      if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n        return;\n      } // Prepare `dragstart`\n\n\n      this._prepareDragStart(evt, touch, target);\n    },\n    _prepareDragStart: function _prepareDragStart(\n    /** Event */\n    evt,\n    /** Touch */\n    touch,\n    /** HTMLElement */\n    target) {\n      var _this = this,\n          el = _this.el,\n          options = _this.options,\n          ownerDocument = el.ownerDocument,\n          dragStartFn;\n\n      if (target && !dragEl && target.parentNode === el) {\n        var dragRect = getRect(target);\n        rootEl = el;\n        dragEl = target;\n        parentEl = dragEl.parentNode;\n        nextEl = dragEl.nextSibling;\n        lastDownEl = target;\n        activeGroup = options.group;\n        Sortable.dragged = dragEl;\n        tapEvt = {\n          target: dragEl,\n          clientX: (touch || evt).clientX,\n          clientY: (touch || evt).clientY\n        };\n        tapDistanceLeft = tapEvt.clientX - dragRect.left;\n        tapDistanceTop = tapEvt.clientY - dragRect.top;\n        this._lastX = (touch || evt).clientX;\n        this._lastY = (touch || evt).clientY;\n        dragEl.style['will-change'] = 'all';\n\n        dragStartFn = function dragStartFn() {\n          pluginEvent('delayEnded', _this, {\n            evt: evt\n          });\n\n          if (Sortable.eventCanceled) {\n            _this._onDrop();\n\n            return;\n          } // Delayed drag has been triggered\n          // we can re-enable the events: touchmove/mousemove\n\n\n          _this._disableDelayedDragEvents();\n\n          if (!FireFox && _this.nativeDraggable) {\n            dragEl.draggable = true;\n          } // Bind the events: dragstart/dragend\n\n\n          _this._triggerDragStart(evt, touch); // Drag start event\n\n\n          _dispatchEvent({\n            sortable: _this,\n            name: 'choose',\n            originalEvent: evt\n          }); // Chosen item\n\n\n          toggleClass(dragEl, options.chosenClass, true);\n        }; // Disable \"draggable\"\n\n\n        options.ignore.split(',').forEach(function (criteria) {\n          find(dragEl, criteria.trim(), _disableDraggable);\n        });\n        on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n        on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n        on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n        on(ownerDocument, 'mouseup', _this._onDrop);\n        on(ownerDocument, 'touchend', _this._onDrop);\n        on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n        if (FireFox && this.nativeDraggable) {\n          this.options.touchStartThreshold = 4;\n          dragEl.draggable = true;\n        }\n\n        pluginEvent('delayStart', this, {\n          evt: evt\n        }); // Delay is impossible for native DnD in Edge or IE\n\n        if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n          if (Sortable.eventCanceled) {\n            this._onDrop();\n\n            return;\n          } // If the user moves the pointer or let go the click or touch\n          // before the delay has been reached:\n          // disable the delayed drag\n\n\n          on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n          on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n          on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n          on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n          on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n          options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n          _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n        } else {\n          dragStartFn();\n        }\n      }\n    },\n    _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n    /** TouchEvent|PointerEvent **/\n    e) {\n      var touch = e.touches ? e.touches[0] : e;\n\n      if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n        this._disableDelayedDrag();\n      }\n    },\n    _disableDelayedDrag: function _disableDelayedDrag() {\n      dragEl && _disableDraggable(dragEl);\n      clearTimeout(this._dragStartTimer);\n\n      this._disableDelayedDragEvents();\n    },\n    _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n      var ownerDocument = this.el.ownerDocument;\n      off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n      off(ownerDocument, 'touchend', this._disableDelayedDrag);\n      off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n      off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n      off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n      off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n    },\n    _triggerDragStart: function _triggerDragStart(\n    /** Event */\n    evt,\n    /** Touch */\n    touch) {\n      touch = touch || evt.pointerType == 'touch' && evt;\n\n      if (!this.nativeDraggable || touch) {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._onTouchMove);\n        } else if (touch) {\n          on(document, 'touchmove', this._onTouchMove);\n        } else {\n          on(document, 'mousemove', this._onTouchMove);\n        }\n      } else {\n        on(dragEl, 'dragend', this);\n        on(rootEl, 'dragstart', this._onDragStart);\n      }\n\n      try {\n        if (document.selection) {\n          // Timeout neccessary for IE9\n          _nextTick(function () {\n            document.selection.empty();\n          });\n        } else {\n          window.getSelection().removeAllRanges();\n        }\n      } catch (err) {}\n    },\n    _dragStarted: function _dragStarted(fallback, evt) {\n\n      awaitingDragStarted = false;\n\n      if (rootEl && dragEl) {\n        pluginEvent('dragStarted', this, {\n          evt: evt\n        });\n\n        if (this.nativeDraggable) {\n          on(document, 'dragover', _checkOutsideTargetEl);\n        }\n\n        var options = this.options; // Apply effect\n\n        !fallback && toggleClass(dragEl, options.dragClass, false);\n        toggleClass(dragEl, options.ghostClass, true);\n        Sortable.active = this;\n        fallback && this._appendGhost(); // Drag start event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'start',\n          originalEvent: evt\n        });\n      } else {\n        this._nulling();\n      }\n    },\n    _emulateDragOver: function _emulateDragOver() {\n      if (touchEvt) {\n        this._lastX = touchEvt.clientX;\n        this._lastY = touchEvt.clientY;\n\n        _hideGhostForTarget();\n\n        var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        var parent = target;\n\n        while (target && target.shadowRoot) {\n          target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n          if (target === parent) break;\n          parent = target;\n        }\n\n        dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n        if (parent) {\n          do {\n            if (parent[expando]) {\n              var inserted = void 0;\n              inserted = parent[expando]._onDragOver({\n                clientX: touchEvt.clientX,\n                clientY: touchEvt.clientY,\n                target: target,\n                rootEl: parent\n              });\n\n              if (inserted && !this.options.dragoverBubble) {\n                break;\n              }\n            }\n\n            target = parent; // store last element\n          }\n          /* jshint boss:true */\n          while (parent = parent.parentNode);\n        }\n\n        _unhideGhostForTarget();\n      }\n    },\n    _onTouchMove: function _onTouchMove(\n    /**TouchEvent*/\n    evt) {\n      if (tapEvt) {\n        var options = this.options,\n            fallbackTolerance = options.fallbackTolerance,\n            fallbackOffset = options.fallbackOffset,\n            touch = evt.touches ? evt.touches[0] : evt,\n            ghostMatrix = ghostEl && matrix(ghostEl, true),\n            scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n            scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n            relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n            dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n            dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n        if (!Sortable.active && !awaitingDragStarted) {\n          if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n            return;\n          }\n\n          this._onDragStart(evt, true);\n        }\n\n        if (ghostEl) {\n          if (ghostMatrix) {\n            ghostMatrix.e += dx - (lastDx || 0);\n            ghostMatrix.f += dy - (lastDy || 0);\n          } else {\n            ghostMatrix = {\n              a: 1,\n              b: 0,\n              c: 0,\n              d: 1,\n              e: dx,\n              f: dy\n            };\n          }\n\n          var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n          css(ghostEl, 'webkitTransform', cssMatrix);\n          css(ghostEl, 'mozTransform', cssMatrix);\n          css(ghostEl, 'msTransform', cssMatrix);\n          css(ghostEl, 'transform', cssMatrix);\n          lastDx = dx;\n          lastDy = dy;\n          touchEvt = touch;\n        }\n\n        evt.cancelable && evt.preventDefault();\n      }\n    },\n    _appendGhost: function _appendGhost() {\n      // Bug if using scale(): https://stackoverflow.com/questions/2637058\n      // Not being adjusted for\n      if (!ghostEl) {\n        var container = this.options.fallbackOnBody ? document.body : rootEl,\n            rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n            options = this.options; // Position absolutely\n\n        if (PositionGhostAbsolutely) {\n          // Get relatively positioned parent\n          ghostRelativeParent = container;\n\n          while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n            ghostRelativeParent = ghostRelativeParent.parentNode;\n          }\n\n          if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n            if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n            rect.top += ghostRelativeParent.scrollTop;\n            rect.left += ghostRelativeParent.scrollLeft;\n          } else {\n            ghostRelativeParent = getWindowScrollingElement();\n          }\n\n          ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n        }\n\n        ghostEl = dragEl.cloneNode(true);\n        toggleClass(ghostEl, options.ghostClass, false);\n        toggleClass(ghostEl, options.fallbackClass, true);\n        toggleClass(ghostEl, options.dragClass, true);\n        css(ghostEl, 'transition', '');\n        css(ghostEl, 'transform', '');\n        css(ghostEl, 'box-sizing', 'border-box');\n        css(ghostEl, 'margin', 0);\n        css(ghostEl, 'top', rect.top);\n        css(ghostEl, 'left', rect.left);\n        css(ghostEl, 'width', rect.width);\n        css(ghostEl, 'height', rect.height);\n        css(ghostEl, 'opacity', '0.8');\n        css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n        css(ghostEl, 'zIndex', '100000');\n        css(ghostEl, 'pointerEvents', 'none');\n        Sortable.ghost = ghostEl;\n        container.appendChild(ghostEl); // Set transform-origin\n\n        css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n      }\n    },\n    _onDragStart: function _onDragStart(\n    /**Event*/\n    evt,\n    /**boolean*/\n    fallback) {\n      var _this = this;\n\n      var dataTransfer = evt.dataTransfer;\n      var options = _this.options;\n      pluginEvent('dragStart', this, {\n        evt: evt\n      });\n\n      if (Sortable.eventCanceled) {\n        this._onDrop();\n\n        return;\n      }\n\n      pluginEvent('setupClone', this);\n\n      if (!Sortable.eventCanceled) {\n        cloneEl = clone(dragEl);\n        cloneEl.draggable = false;\n        cloneEl.style['will-change'] = '';\n\n        this._hideClone();\n\n        toggleClass(cloneEl, this.options.chosenClass, false);\n        Sortable.clone = cloneEl;\n      } // #1143: IFrame support workaround\n\n\n      _this.cloneId = _nextTick(function () {\n        pluginEvent('clone', _this);\n        if (Sortable.eventCanceled) return;\n\n        if (!_this.options.removeCloneOnHide) {\n          rootEl.insertBefore(cloneEl, dragEl);\n        }\n\n        _this._hideClone();\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'clone'\n        });\n      });\n      !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n      if (fallback) {\n        ignoreNextClick = true;\n        _this._loopId = setInterval(_this._emulateDragOver, 50);\n      } else {\n        // Undo what was set in _prepareDragStart before drag started\n        off(document, 'mouseup', _this._onDrop);\n        off(document, 'touchend', _this._onDrop);\n        off(document, 'touchcancel', _this._onDrop);\n\n        if (dataTransfer) {\n          dataTransfer.effectAllowed = 'move';\n          options.setData && options.setData.call(_this, dataTransfer, dragEl);\n        }\n\n        on(document, 'drop', _this); // #1276 fix:\n\n        css(dragEl, 'transform', 'translateZ(0)');\n      }\n\n      awaitingDragStarted = true;\n      _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n      on(document, 'selectstart', _this);\n      moved = true;\n\n      if (Safari) {\n        css(document.body, 'user-select', 'none');\n      }\n    },\n    // Returns true - if no further action is needed (either inserted or another condition)\n    _onDragOver: function _onDragOver(\n    /**Event*/\n    evt) {\n      var el = this.el,\n          target = evt.target,\n          dragRect,\n          targetRect,\n          revert,\n          options = this.options,\n          group = options.group,\n          activeSortable = Sortable.active,\n          isOwner = activeGroup === group,\n          canSort = options.sort,\n          fromSortable = putSortable || activeSortable,\n          vertical,\n          _this = this,\n          completedFired = false;\n\n      if (_silent) return;\n\n      function dragOverEvent(name, extra) {\n        pluginEvent(name, _this, _objectSpread({\n          evt: evt,\n          isOwner: isOwner,\n          axis: vertical ? 'vertical' : 'horizontal',\n          revert: revert,\n          dragRect: dragRect,\n          targetRect: targetRect,\n          canSort: canSort,\n          fromSortable: fromSortable,\n          target: target,\n          completed: completed,\n          onMove: function onMove(target, after) {\n            return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n          },\n          changed: changed\n        }, extra));\n      } // Capture animation state\n\n\n      function capture() {\n        dragOverEvent('dragOverAnimationCapture');\n\n        _this.captureAnimationState();\n\n        if (_this !== fromSortable) {\n          fromSortable.captureAnimationState();\n        }\n      } // Return invocation when dragEl is inserted (or completed)\n\n\n      function completed(insertion) {\n        dragOverEvent('dragOverCompleted', {\n          insertion: insertion\n        });\n\n        if (insertion) {\n          // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n          if (isOwner) {\n            activeSortable._hideClone();\n          } else {\n            activeSortable._showClone(_this);\n          }\n\n          if (_this !== fromSortable) {\n            // Set ghost class to new sortable's ghost class\n            toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n            toggleClass(dragEl, options.ghostClass, true);\n          }\n\n          if (putSortable !== _this && _this !== Sortable.active) {\n            putSortable = _this;\n          } else if (_this === Sortable.active && putSortable) {\n            putSortable = null;\n          } // Animation\n\n\n          if (fromSortable === _this) {\n            _this._ignoreWhileAnimating = target;\n          }\n\n          _this.animateAll(function () {\n            dragOverEvent('dragOverAnimationComplete');\n            _this._ignoreWhileAnimating = null;\n          });\n\n          if (_this !== fromSortable) {\n            fromSortable.animateAll();\n            fromSortable._ignoreWhileAnimating = null;\n          }\n        } // Null lastTarget if it is not inside a previously swapped element\n\n\n        if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n          lastTarget = null;\n        } // no bubbling and not fallback\n\n\n        if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n          dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n          !insertion && nearestEmptyInsertDetectEvent(evt);\n        }\n\n        !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n        return completedFired = true;\n      } // Call when dragEl has been inserted\n\n\n      function changed() {\n        newIndex = index(dragEl);\n        newDraggableIndex = index(dragEl, options.draggable);\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'change',\n          toEl: el,\n          newIndex: newIndex,\n          newDraggableIndex: newDraggableIndex,\n          originalEvent: evt\n        });\n      }\n\n      if (evt.preventDefault !== void 0) {\n        evt.cancelable && evt.preventDefault();\n      }\n\n      target = closest(target, options.draggable, el, true);\n      dragOverEvent('dragOver');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n        return completed(false);\n      }\n\n      ignoreNextClick = false;\n\n      if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n      : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n        vertical = this._getDirection(evt, target) === 'vertical';\n        dragRect = getRect(dragEl);\n        dragOverEvent('dragOverValid');\n        if (Sortable.eventCanceled) return completedFired;\n\n        if (revert) {\n          parentEl = rootEl; // actualization\n\n          capture();\n\n          this._hideClone();\n\n          dragOverEvent('revert');\n\n          if (!Sortable.eventCanceled) {\n            if (nextEl) {\n              rootEl.insertBefore(dragEl, nextEl);\n            } else {\n              rootEl.appendChild(dragEl);\n            }\n          }\n\n          return completed(true);\n        }\n\n        var elLastChild = lastChild(el, options.draggable);\n\n        if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n          // If already at end of list: Do not insert\n          if (elLastChild === dragEl) {\n            return completed(false);\n          } // assign target only if condition is true\n\n\n          if (elLastChild && el === evt.target) {\n            target = elLastChild;\n          }\n\n          if (target) {\n            targetRect = getRect(target);\n          }\n\n          if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n            capture();\n            el.appendChild(dragEl);\n            parentEl = el; // actualization\n\n            changed();\n            return completed(true);\n          }\n        } else if (target.parentNode === el) {\n          targetRect = getRect(target);\n          var direction = 0,\n              targetBeforeFirstSwap,\n              differentLevel = dragEl.parentNode !== el,\n              differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n              side1 = vertical ? 'top' : 'left',\n              scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n              scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n          if (lastTarget !== target) {\n            targetBeforeFirstSwap = targetRect[side1];\n            pastFirstInvertThresh = false;\n            isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n          }\n\n          direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n          var sibling;\n\n          if (direction !== 0) {\n            // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n            var dragIndex = index(dragEl);\n\n            do {\n              dragIndex -= direction;\n              sibling = parentEl.children[dragIndex];\n            } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n          } // If dragEl is already beside target: Do not insert\n\n\n          if (direction === 0 || sibling === target) {\n            return completed(false);\n          }\n\n          lastTarget = target;\n          lastDirection = direction;\n          var nextSibling = target.nextElementSibling,\n              after = false;\n          after = direction === 1;\n\n          var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n          if (moveVector !== false) {\n            if (moveVector === 1 || moveVector === -1) {\n              after = moveVector === 1;\n            }\n\n            _silent = true;\n            setTimeout(_unsilent, 30);\n            capture();\n\n            if (after && !nextSibling) {\n              el.appendChild(dragEl);\n            } else {\n              target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n            } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n            if (scrolledPastTop) {\n              scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n            }\n\n            parentEl = dragEl.parentNode; // actualization\n            // must be done before animation\n\n            if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n              targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n            }\n\n            changed();\n            return completed(true);\n          }\n        }\n\n        if (el.contains(dragEl)) {\n          return completed(false);\n        }\n      }\n\n      return false;\n    },\n    _ignoreWhileAnimating: null,\n    _offMoveEvents: function _offMoveEvents() {\n      off(document, 'mousemove', this._onTouchMove);\n      off(document, 'touchmove', this._onTouchMove);\n      off(document, 'pointermove', this._onTouchMove);\n      off(document, 'dragover', nearestEmptyInsertDetectEvent);\n      off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n      off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n    },\n    _offUpEvents: function _offUpEvents() {\n      var ownerDocument = this.el.ownerDocument;\n      off(ownerDocument, 'mouseup', this._onDrop);\n      off(ownerDocument, 'touchend', this._onDrop);\n      off(ownerDocument, 'pointerup', this._onDrop);\n      off(ownerDocument, 'touchcancel', this._onDrop);\n      off(document, 'selectstart', this);\n    },\n    _onDrop: function _onDrop(\n    /**Event*/\n    evt) {\n      var el = this.el,\n          options = this.options; // Get the index of the dragged element within its parent\n\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n      pluginEvent('drop', this, {\n        evt: evt\n      });\n      parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      if (Sortable.eventCanceled) {\n        this._nulling();\n\n        return;\n      }\n\n      awaitingDragStarted = false;\n      isCircumstantialInvert = false;\n      pastFirstInvertThresh = false;\n      clearInterval(this._loopId);\n      clearTimeout(this._dragStartTimer);\n\n      _cancelNextTick(this.cloneId);\n\n      _cancelNextTick(this._dragStartId); // Unbind events\n\n\n      if (this.nativeDraggable) {\n        off(document, 'drop', this);\n        off(el, 'dragstart', this._onDragStart);\n      }\n\n      this._offMoveEvents();\n\n      this._offUpEvents();\n\n      if (Safari) {\n        css(document.body, 'user-select', '');\n      }\n\n      css(dragEl, 'transform', '');\n\n      if (evt) {\n        if (moved) {\n          evt.cancelable && evt.preventDefault();\n          !options.dropBubble && evt.stopPropagation();\n        }\n\n        ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n        if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n          // Remove clone(s)\n          cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n        }\n\n        if (dragEl) {\n          if (this.nativeDraggable) {\n            off(dragEl, 'dragend', this);\n          }\n\n          _disableDraggable(dragEl);\n\n          dragEl.style['will-change'] = ''; // Remove classes\n          // ghostClass is added in dragStarted\n\n          if (moved && !awaitingDragStarted) {\n            toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n          }\n\n          toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'unchoose',\n            toEl: parentEl,\n            newIndex: null,\n            newDraggableIndex: null,\n            originalEvent: evt\n          });\n\n          if (rootEl !== parentEl) {\n            if (newIndex >= 0) {\n              // Add event\n              _dispatchEvent({\n                rootEl: parentEl,\n                name: 'add',\n                toEl: parentEl,\n                fromEl: rootEl,\n                originalEvent: evt\n              }); // Remove event\n\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'remove',\n                toEl: parentEl,\n                originalEvent: evt\n              }); // drag from one list and drop into another\n\n\n              _dispatchEvent({\n                rootEl: parentEl,\n                name: 'sort',\n                toEl: parentEl,\n                fromEl: rootEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n\n            putSortable && putSortable.save();\n          } else {\n            if (newIndex !== oldIndex) {\n              if (newIndex >= 0) {\n                // drag & drop within the same list\n                _dispatchEvent({\n                  sortable: this,\n                  name: 'update',\n                  toEl: parentEl,\n                  originalEvent: evt\n                });\n\n                _dispatchEvent({\n                  sortable: this,\n                  name: 'sort',\n                  toEl: parentEl,\n                  originalEvent: evt\n                });\n              }\n            }\n          }\n\n          if (Sortable.active) {\n            /* jshint eqnull:true */\n            if (newIndex == null || newIndex === -1) {\n              newIndex = oldIndex;\n              newDraggableIndex = oldDraggableIndex;\n            }\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'end',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // Save sorting\n\n\n            this.save();\n          }\n        }\n      }\n\n      this._nulling();\n    },\n    _nulling: function _nulling() {\n      pluginEvent('nulling', this);\n      rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n      savedInputChecked.forEach(function (el) {\n        el.checked = true;\n      });\n      savedInputChecked.length = lastDx = lastDy = 0;\n    },\n    handleEvent: function handleEvent(\n    /**Event*/\n    evt) {\n      switch (evt.type) {\n        case 'drop':\n        case 'dragend':\n          this._onDrop(evt);\n\n          break;\n\n        case 'dragenter':\n        case 'dragover':\n          if (dragEl) {\n            this._onDragOver(evt);\n\n            _globalDragOver(evt);\n          }\n\n          break;\n\n        case 'selectstart':\n          evt.preventDefault();\n          break;\n      }\n    },\n\n    /**\n     * Serializes the item into an array of string.\n     * @returns {String[]}\n     */\n    toArray: function toArray() {\n      var order = [],\n          el,\n          children = this.el.children,\n          i = 0,\n          n = children.length,\n          options = this.options;\n\n      for (; i < n; i++) {\n        el = children[i];\n\n        if (closest(el, options.draggable, this.el, false)) {\n          order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n        }\n      }\n\n      return order;\n    },\n\n    /**\n     * Sorts the elements according to the array.\n     * @param  {String[]}  order  order of the items\n     */\n    sort: function sort(order, useAnimation) {\n      var items = {},\n          rootEl = this.el;\n      this.toArray().forEach(function (id, i) {\n        var el = rootEl.children[i];\n\n        if (closest(el, this.options.draggable, rootEl, false)) {\n          items[id] = el;\n        }\n      }, this);\n      useAnimation && this.captureAnimationState();\n      order.forEach(function (id) {\n        if (items[id]) {\n          rootEl.removeChild(items[id]);\n          rootEl.appendChild(items[id]);\n        }\n      });\n      useAnimation && this.animateAll();\n    },\n\n    /**\n     * Save the current sorting\n     */\n    save: function save() {\n      var store = this.options.store;\n      store && store.set && store.set(this);\n    },\n\n    /**\n     * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n     * @param   {HTMLElement}  el\n     * @param   {String}       [selector]  default: `options.draggable`\n     * @returns {HTMLElement|null}\n     */\n    closest: function closest$1(el, selector) {\n      return closest(el, selector || this.options.draggable, this.el, false);\n    },\n\n    /**\n     * Set/get option\n     * @param   {string} name\n     * @param   {*}      [value]\n     * @returns {*}\n     */\n    option: function option(name, value) {\n      var options = this.options;\n\n      if (value === void 0) {\n        return options[name];\n      } else {\n        var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n        if (typeof modifiedValue !== 'undefined') {\n          options[name] = modifiedValue;\n        } else {\n          options[name] = value;\n        }\n\n        if (name === 'group') {\n          _prepareGroup(options);\n        }\n      }\n    },\n\n    /**\n     * Destroy\n     */\n    destroy: function destroy() {\n      pluginEvent('destroy', this);\n      var el = this.el;\n      el[expando] = null;\n      off(el, 'mousedown', this._onTapStart);\n      off(el, 'touchstart', this._onTapStart);\n      off(el, 'pointerdown', this._onTapStart);\n\n      if (this.nativeDraggable) {\n        off(el, 'dragover', this);\n        off(el, 'dragenter', this);\n      } // Remove draggable attributes\n\n\n      Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n        el.removeAttribute('draggable');\n      });\n\n      this._onDrop();\n\n      this._disableDelayedDragEvents();\n\n      sortables.splice(sortables.indexOf(this.el), 1);\n      this.el = el = null;\n    },\n    _hideClone: function _hideClone() {\n      if (!cloneHidden) {\n        pluginEvent('hideClone', this);\n        if (Sortable.eventCanceled) return;\n        css(cloneEl, 'display', 'none');\n\n        if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n          cloneEl.parentNode.removeChild(cloneEl);\n        }\n\n        cloneHidden = true;\n      }\n    },\n    _showClone: function _showClone(putSortable) {\n      if (putSortable.lastPutMode !== 'clone') {\n        this._hideClone();\n\n        return;\n      }\n\n      if (cloneHidden) {\n        pluginEvent('showClone', this);\n        if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n        if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n          rootEl.insertBefore(cloneEl, dragEl);\n        } else if (nextEl) {\n          rootEl.insertBefore(cloneEl, nextEl);\n        } else {\n          rootEl.appendChild(cloneEl);\n        }\n\n        if (this.options.group.revertClone) {\n          this.animate(dragEl, cloneEl);\n        }\n\n        css(cloneEl, 'display', '');\n        cloneHidden = false;\n      }\n    }\n  };\n\n  function _globalDragOver(\n  /**Event*/\n  evt) {\n    if (evt.dataTransfer) {\n      evt.dataTransfer.dropEffect = 'move';\n    }\n\n    evt.cancelable && evt.preventDefault();\n  }\n\n  function _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n    var evt,\n        sortable = fromEl[expando],\n        onMoveFn = sortable.options.onMove,\n        retVal; // Support for new CustomEvent feature\n\n    if (window.CustomEvent && !IE11OrLess && !Edge) {\n      evt = new CustomEvent('move', {\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      evt = document.createEvent('Event');\n      evt.initEvent('move', true, true);\n    }\n\n    evt.to = toEl;\n    evt.from = fromEl;\n    evt.dragged = dragEl;\n    evt.draggedRect = dragRect;\n    evt.related = targetEl || toEl;\n    evt.relatedRect = targetRect || getRect(toEl);\n    evt.willInsertAfter = willInsertAfter;\n    evt.originalEvent = originalEvent;\n    fromEl.dispatchEvent(evt);\n\n    if (onMoveFn) {\n      retVal = onMoveFn.call(sortable, evt, originalEvent);\n    }\n\n    return retVal;\n  }\n\n  function _disableDraggable(el) {\n    el.draggable = false;\n  }\n\n  function _unsilent() {\n    _silent = false;\n  }\n\n  function _ghostIsLast(evt, vertical, sortable) {\n    var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n    var spacer = 10;\n    return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n  }\n\n  function _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n    var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n        targetLength = vertical ? targetRect.height : targetRect.width,\n        targetS1 = vertical ? targetRect.top : targetRect.left,\n        targetS2 = vertical ? targetRect.bottom : targetRect.right,\n        invert = false;\n\n    if (!invertSwap) {\n      // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n      if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n        // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n        // check if past first invert threshold on side opposite of lastDirection\n        if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n          // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n          pastFirstInvertThresh = true;\n        }\n\n        if (!pastFirstInvertThresh) {\n          // dragEl shadow (target move distance shadow)\n          if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n          : mouseOnAxis > targetS2 - targetMoveDistance) {\n            return -lastDirection;\n          }\n        } else {\n          invert = true;\n        }\n      } else {\n        // Regular\n        if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n          return _getInsertDirection(target);\n        }\n      }\n    }\n\n    invert = invert || invertSwap;\n\n    if (invert) {\n      // Invert of regular\n      if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n        return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n      }\n    }\n\n    return 0;\n  }\n  /**\n   * Gets the direction dragEl must be swapped relative to target in order to make it\n   * seem that dragEl has been \"inserted\" into that element's position\n   * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n   * @return {Number}                   Direction dragEl must be swapped\n   */\n\n\n  function _getInsertDirection(target) {\n    if (index(dragEl) < index(target)) {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n  /**\n   * Generate id\n   * @param   {HTMLElement} el\n   * @returns {String}\n   * @private\n   */\n\n\n  function _generateId(el) {\n    var str = el.tagName + el.className + el.src + el.href + el.textContent,\n        i = str.length,\n        sum = 0;\n\n    while (i--) {\n      sum += str.charCodeAt(i);\n    }\n\n    return sum.toString(36);\n  }\n\n  function _saveInputCheckedState(root) {\n    savedInputChecked.length = 0;\n    var inputs = root.getElementsByTagName('input');\n    var idx = inputs.length;\n\n    while (idx--) {\n      var el = inputs[idx];\n      el.checked && savedInputChecked.push(el);\n    }\n  }\n\n  function _nextTick(fn) {\n    return setTimeout(fn, 0);\n  }\n\n  function _cancelNextTick(id) {\n    return clearTimeout(id);\n  } // Fixed #973:\n\n\n  if (documentExists) {\n    on(document, 'touchmove', function (evt) {\n      if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n        evt.preventDefault();\n      }\n    });\n  } // Export utils\n\n\n  Sortable.utils = {\n    on: on,\n    off: off,\n    css: css,\n    find: find,\n    is: function is(el, selector) {\n      return !!closest(el, selector, el, false);\n    },\n    extend: extend,\n    throttle: throttle,\n    closest: closest,\n    toggleClass: toggleClass,\n    clone: clone,\n    index: index,\n    nextTick: _nextTick,\n    cancelNextTick: _cancelNextTick,\n    detectDirection: _detectDirection,\n    getChild: getChild\n  };\n  /**\n   * Get the Sortable instance of an element\n   * @param  {HTMLElement} element The element\n   * @return {Sortable|undefined}         The instance of Sortable\n   */\n\n  Sortable.get = function (element) {\n    return element[expando];\n  };\n  /**\n   * Mount a plugin to Sortable\n   * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n   */\n\n\n  Sortable.mount = function () {\n    for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n      plugins[_key] = arguments[_key];\n    }\n\n    if (plugins[0].constructor === Array) plugins = plugins[0];\n    plugins.forEach(function (plugin) {\n      if (!plugin.prototype || !plugin.prototype.constructor) {\n        throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n      }\n\n      if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n      PluginManager.mount(plugin);\n    });\n  };\n  /**\n   * Create sortable instance\n   * @param {HTMLElement}  el\n   * @param {Object}      [options]\n   */\n\n\n  Sortable.create = function (el, options) {\n    return new Sortable(el, options);\n  }; // Export\n\n\n  Sortable.version = version;\n\n  var autoScrolls = [],\n      scrollEl,\n      scrollRootEl,\n      scrolling = false,\n      lastAutoScrollX,\n      lastAutoScrollY,\n      touchEvt$1,\n      pointerElemChangedInterval;\n\n  function AutoScrollPlugin() {\n    function AutoScroll() {\n      this.defaults = {\n        scroll: true,\n        scrollSensitivity: 30,\n        scrollSpeed: 10,\n        bubbleScroll: true\n      }; // Bind all private methods\n\n      for (var fn in this) {\n        if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n          this[fn] = this[fn].bind(this);\n        }\n      }\n    }\n\n    AutoScroll.prototype = {\n      dragStarted: function dragStarted(_ref) {\n        var originalEvent = _ref.originalEvent;\n\n        if (this.sortable.nativeDraggable) {\n          on(document, 'dragover', this._handleAutoScroll);\n        } else {\n          if (this.options.supportPointer) {\n            on(document, 'pointermove', this._handleFallbackAutoScroll);\n          } else if (originalEvent.touches) {\n            on(document, 'touchmove', this._handleFallbackAutoScroll);\n          } else {\n            on(document, 'mousemove', this._handleFallbackAutoScroll);\n          }\n        }\n      },\n      dragOverCompleted: function dragOverCompleted(_ref2) {\n        var originalEvent = _ref2.originalEvent;\n\n        // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n        if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n          this._handleAutoScroll(originalEvent);\n        }\n      },\n      drop: function drop() {\n        if (this.sortable.nativeDraggable) {\n          off(document, 'dragover', this._handleAutoScroll);\n        } else {\n          off(document, 'pointermove', this._handleFallbackAutoScroll);\n          off(document, 'touchmove', this._handleFallbackAutoScroll);\n          off(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n\n        clearPointerElemChangedInterval();\n        clearAutoScrolls();\n        cancelThrottle();\n      },\n      nulling: function nulling() {\n        touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n        autoScrolls.length = 0;\n      },\n      _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n        this._handleAutoScroll(evt, true);\n      },\n      _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n        var _this = this;\n\n        var x = (evt.touches ? evt.touches[0] : evt).clientX,\n            y = (evt.touches ? evt.touches[0] : evt).clientY,\n            elem = document.elementFromPoint(x, y);\n        touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n        // Edge's autoscroll seems too conditional,\n        // MACOS Safari does not have autoscroll,\n        // Firefox and Chrome are good\n\n        if (fallback || Edge || IE11OrLess || Safari) {\n          autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n          var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n          if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n            pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n            pointerElemChangedInterval = setInterval(function () {\n              var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n              if (newElem !== ogElemScroller) {\n                ogElemScroller = newElem;\n                clearAutoScrolls();\n              }\n\n              autoScroll(evt, _this.options, newElem, fallback);\n            }, 10);\n            lastAutoScrollX = x;\n            lastAutoScrollY = y;\n          }\n        } else {\n          // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n          if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n            clearAutoScrolls();\n            return;\n          }\n\n          autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n        }\n      }\n    };\n    return _extends(AutoScroll, {\n      pluginName: 'scroll',\n      initializeByDefault: true\n    });\n  }\n\n  function clearAutoScrolls() {\n    autoScrolls.forEach(function (autoScroll) {\n      clearInterval(autoScroll.pid);\n    });\n    autoScrolls = [];\n  }\n\n  function clearPointerElemChangedInterval() {\n    clearInterval(pointerElemChangedInterval);\n  }\n\n  var autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n    // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n    if (!options.scroll) return;\n    var x = (evt.touches ? evt.touches[0] : evt).clientX,\n        y = (evt.touches ? evt.touches[0] : evt).clientY,\n        sens = options.scrollSensitivity,\n        speed = options.scrollSpeed,\n        winScroller = getWindowScrollingElement();\n    var scrollThisInstance = false,\n        scrollCustomFn; // New scroll root, set scrollEl\n\n    if (scrollRootEl !== rootEl) {\n      scrollRootEl = rootEl;\n      clearAutoScrolls();\n      scrollEl = options.scroll;\n      scrollCustomFn = options.scrollFn;\n\n      if (scrollEl === true) {\n        scrollEl = getParentAutoScrollElement(rootEl, true);\n      }\n    }\n\n    var layersOut = 0;\n    var currentParent = scrollEl;\n\n    do {\n      var el = currentParent,\n          rect = getRect(el),\n          top = rect.top,\n          bottom = rect.bottom,\n          left = rect.left,\n          right = rect.right,\n          width = rect.width,\n          height = rect.height,\n          canScrollX = void 0,\n          canScrollY = void 0,\n          scrollWidth = el.scrollWidth,\n          scrollHeight = el.scrollHeight,\n          elCSS = css(el),\n          scrollPosX = el.scrollLeft,\n          scrollPosY = el.scrollTop;\n\n      if (el === winScroller) {\n        canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n        canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n      } else {\n        canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n        canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n      }\n\n      var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n      var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n      if (!autoScrolls[layersOut]) {\n        for (var i = 0; i <= layersOut; i++) {\n          if (!autoScrolls[i]) {\n            autoScrolls[i] = {};\n          }\n        }\n      }\n\n      if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n        autoScrolls[layersOut].el = el;\n        autoScrolls[layersOut].vx = vx;\n        autoScrolls[layersOut].vy = vy;\n        clearInterval(autoScrolls[layersOut].pid);\n\n        if (vx != 0 || vy != 0) {\n          scrollThisInstance = true;\n          /* jshint loopfunc:true */\n\n          autoScrolls[layersOut].pid = setInterval(function () {\n            // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n            if (isFallback && this.layer === 0) {\n              Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n            }\n\n            var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n            var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n            if (typeof scrollCustomFn === 'function') {\n              if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n                return;\n              }\n            }\n\n            scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n          }.bind({\n            layer: layersOut\n          }), 24);\n        }\n      }\n\n      layersOut++;\n    } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n    scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n  }, 30);\n\n  var drop = function drop(_ref) {\n    var originalEvent = _ref.originalEvent,\n        putSortable = _ref.putSortable,\n        dragEl = _ref.dragEl,\n        activeSortable = _ref.activeSortable,\n        dispatchSortableEvent = _ref.dispatchSortableEvent,\n        hideGhostForTarget = _ref.hideGhostForTarget,\n        unhideGhostForTarget = _ref.unhideGhostForTarget;\n    if (!originalEvent) return;\n    var toSortable = putSortable || activeSortable;\n    hideGhostForTarget();\n    var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n    var target = document.elementFromPoint(touch.clientX, touch.clientY);\n    unhideGhostForTarget();\n\n    if (toSortable && !toSortable.el.contains(target)) {\n      dispatchSortableEvent('spill');\n      this.onSpill({\n        dragEl: dragEl,\n        putSortable: putSortable\n      });\n    }\n  };\n\n  function Revert() {}\n\n  Revert.prototype = {\n    startIndex: null,\n    dragStart: function dragStart(_ref2) {\n      var oldDraggableIndex = _ref2.oldDraggableIndex;\n      this.startIndex = oldDraggableIndex;\n    },\n    onSpill: function onSpill(_ref3) {\n      var dragEl = _ref3.dragEl,\n          putSortable = _ref3.putSortable;\n      this.sortable.captureAnimationState();\n\n      if (putSortable) {\n        putSortable.captureAnimationState();\n      }\n\n      var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n      if (nextSibling) {\n        this.sortable.el.insertBefore(dragEl, nextSibling);\n      } else {\n        this.sortable.el.appendChild(dragEl);\n      }\n\n      this.sortable.animateAll();\n\n      if (putSortable) {\n        putSortable.animateAll();\n      }\n    },\n    drop: drop\n  };\n\n  _extends(Revert, {\n    pluginName: 'revertOnSpill'\n  });\n\n  function Remove() {}\n\n  Remove.prototype = {\n    onSpill: function onSpill(_ref4) {\n      var dragEl = _ref4.dragEl,\n          putSortable = _ref4.putSortable;\n      var parentSortable = putSortable || this.sortable;\n      parentSortable.captureAnimationState();\n      dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n      parentSortable.animateAll();\n    },\n    drop: drop\n  };\n\n  _extends(Remove, {\n    pluginName: 'removeOnSpill'\n  });\n\n  var lastSwapEl;\n\n  function SwapPlugin() {\n    function Swap() {\n      this.defaults = {\n        swapClass: 'sortable-swap-highlight'\n      };\n    }\n\n    Swap.prototype = {\n      dragStart: function dragStart(_ref) {\n        var dragEl = _ref.dragEl;\n        lastSwapEl = dragEl;\n      },\n      dragOverValid: function dragOverValid(_ref2) {\n        var completed = _ref2.completed,\n            target = _ref2.target,\n            onMove = _ref2.onMove,\n            activeSortable = _ref2.activeSortable,\n            changed = _ref2.changed,\n            cancel = _ref2.cancel;\n        if (!activeSortable.options.swap) return;\n        var el = this.sortable.el,\n            options = this.options;\n\n        if (target && target !== el) {\n          var prevSwapEl = lastSwapEl;\n\n          if (onMove(target) !== false) {\n            toggleClass(target, options.swapClass, true);\n            lastSwapEl = target;\n          } else {\n            lastSwapEl = null;\n          }\n\n          if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n            toggleClass(prevSwapEl, options.swapClass, false);\n          }\n        }\n\n        changed();\n        completed(true);\n        cancel();\n      },\n      drop: function drop(_ref3) {\n        var activeSortable = _ref3.activeSortable,\n            putSortable = _ref3.putSortable,\n            dragEl = _ref3.dragEl;\n        var toSortable = putSortable || this.sortable;\n        var options = this.options;\n        lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n        if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n          if (dragEl !== lastSwapEl) {\n            toSortable.captureAnimationState();\n            if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n            swapNodes(dragEl, lastSwapEl);\n            toSortable.animateAll();\n            if (toSortable !== activeSortable) activeSortable.animateAll();\n          }\n        }\n      },\n      nulling: function nulling() {\n        lastSwapEl = null;\n      }\n    };\n    return _extends(Swap, {\n      pluginName: 'swap',\n      eventProperties: function eventProperties() {\n        return {\n          swapItem: lastSwapEl\n        };\n      }\n    });\n  }\n\n  function swapNodes(n1, n2) {\n    var p1 = n1.parentNode,\n        p2 = n2.parentNode,\n        i1,\n        i2;\n    if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n    i1 = index(n1);\n    i2 = index(n2);\n\n    if (p1.isEqualNode(p2) && i1 < i2) {\n      i2++;\n    }\n\n    p1.insertBefore(n2, p1.children[i1]);\n    p2.insertBefore(n1, p2.children[i2]);\n  }\n\n  var multiDragElements = [],\n      multiDragClones = [],\n      lastMultiDragSelect,\n      // for selection with modifier key down (SHIFT)\n  multiDragSortable,\n      initialFolding = false,\n      // Initial multi-drag fold when drag started\n  folding = false,\n      // Folding any other time\n  dragStarted = false,\n      dragEl$1,\n      clonesFromRect,\n      clonesHidden;\n\n  function MultiDragPlugin() {\n    function MultiDrag(sortable) {\n      // Bind all private methods\n      for (var fn in this) {\n        if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n          this[fn] = this[fn].bind(this);\n        }\n      }\n\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n\n      on(document, 'keydown', this._checkKeyDown);\n      on(document, 'keyup', this._checkKeyUp);\n      this.defaults = {\n        selectedClass: 'sortable-selected',\n        multiDragKey: null,\n        setData: function setData(dataTransfer, dragEl) {\n          var data = '';\n\n          if (multiDragElements.length && multiDragSortable === sortable) {\n            multiDragElements.forEach(function (multiDragElement, i) {\n              data += (!i ? '' : ', ') + multiDragElement.textContent;\n            });\n          } else {\n            data = dragEl.textContent;\n          }\n\n          dataTransfer.setData('Text', data);\n        }\n      };\n    }\n\n    MultiDrag.prototype = {\n      multiDragKeyDown: false,\n      isMultiDrag: false,\n      delayStartGlobal: function delayStartGlobal(_ref) {\n        var dragged = _ref.dragEl;\n        dragEl$1 = dragged;\n      },\n      delayEnded: function delayEnded() {\n        this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n      },\n      setupClone: function setupClone(_ref2) {\n        var sortable = _ref2.sortable,\n            cancel = _ref2.cancel;\n        if (!this.isMultiDrag) return;\n\n        for (var i = 0; i < multiDragElements.length; i++) {\n          multiDragClones.push(clone(multiDragElements[i]));\n          multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n          multiDragClones[i].draggable = false;\n          multiDragClones[i].style['will-change'] = '';\n          toggleClass(multiDragClones[i], this.options.selectedClass, false);\n          multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n        }\n\n        sortable._hideClone();\n\n        cancel();\n      },\n      clone: function clone(_ref3) {\n        var sortable = _ref3.sortable,\n            rootEl = _ref3.rootEl,\n            dispatchSortableEvent = _ref3.dispatchSortableEvent,\n            cancel = _ref3.cancel;\n        if (!this.isMultiDrag) return;\n\n        if (!this.options.removeCloneOnHide) {\n          if (multiDragElements.length && multiDragSortable === sortable) {\n            insertMultiDragClones(true, rootEl);\n            dispatchSortableEvent('clone');\n            cancel();\n          }\n        }\n      },\n      showClone: function showClone(_ref4) {\n        var cloneNowShown = _ref4.cloneNowShown,\n            rootEl = _ref4.rootEl,\n            cancel = _ref4.cancel;\n        if (!this.isMultiDrag) return;\n        insertMultiDragClones(false, rootEl);\n        multiDragClones.forEach(function (clone) {\n          css(clone, 'display', '');\n        });\n        cloneNowShown();\n        clonesHidden = false;\n        cancel();\n      },\n      hideClone: function hideClone(_ref5) {\n        var _this = this;\n\n        var sortable = _ref5.sortable,\n            cloneNowHidden = _ref5.cloneNowHidden,\n            cancel = _ref5.cancel;\n        if (!this.isMultiDrag) return;\n        multiDragClones.forEach(function (clone) {\n          css(clone, 'display', 'none');\n\n          if (_this.options.removeCloneOnHide && clone.parentNode) {\n            clone.parentNode.removeChild(clone);\n          }\n        });\n        cloneNowHidden();\n        clonesHidden = true;\n        cancel();\n      },\n      dragStartGlobal: function dragStartGlobal(_ref6) {\n        var sortable = _ref6.sortable;\n\n        if (!this.isMultiDrag && multiDragSortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n        }\n\n        multiDragElements.forEach(function (multiDragElement) {\n          multiDragElement.sortableIndex = index(multiDragElement);\n        }); // Sort multi-drag elements\n\n        multiDragElements = multiDragElements.sort(function (a, b) {\n          return a.sortableIndex - b.sortableIndex;\n        });\n        dragStarted = true;\n      },\n      dragStarted: function dragStarted(_ref7) {\n        var _this2 = this;\n\n        var sortable = _ref7.sortable;\n        if (!this.isMultiDrag) return;\n\n        if (this.options.sort) {\n          // Capture rects,\n          // hide multi drag elements (by positioning them absolute),\n          // set multi drag elements rects to dragRect,\n          // show multi drag elements,\n          // animate to rects,\n          // unset rects & remove from DOM\n          sortable.captureAnimationState();\n\n          if (this.options.animation) {\n            multiDragElements.forEach(function (multiDragElement) {\n              if (multiDragElement === dragEl$1) return;\n              css(multiDragElement, 'position', 'absolute');\n            });\n            var dragRect = getRect(dragEl$1, false, true, true);\n            multiDragElements.forEach(function (multiDragElement) {\n              if (multiDragElement === dragEl$1) return;\n              setRect(multiDragElement, dragRect);\n            });\n            folding = true;\n            initialFolding = true;\n          }\n        }\n\n        sortable.animateAll(function () {\n          folding = false;\n          initialFolding = false;\n\n          if (_this2.options.animation) {\n            multiDragElements.forEach(function (multiDragElement) {\n              unsetRect(multiDragElement);\n            });\n          } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n          if (_this2.options.sort) {\n            removeMultiDragElements();\n          }\n        });\n      },\n      dragOver: function dragOver(_ref8) {\n        var target = _ref8.target,\n            completed = _ref8.completed,\n            cancel = _ref8.cancel;\n\n        if (folding && ~multiDragElements.indexOf(target)) {\n          completed(false);\n          cancel();\n        }\n      },\n      revert: function revert(_ref9) {\n        var fromSortable = _ref9.fromSortable,\n            rootEl = _ref9.rootEl,\n            sortable = _ref9.sortable,\n            dragRect = _ref9.dragRect;\n\n        if (multiDragElements.length > 1) {\n          // Setup unfold animation\n          multiDragElements.forEach(function (multiDragElement) {\n            sortable.addAnimationState({\n              target: multiDragElement,\n              rect: folding ? getRect(multiDragElement) : dragRect\n            });\n            unsetRect(multiDragElement);\n            multiDragElement.fromRect = dragRect;\n            fromSortable.removeAnimationState(multiDragElement);\n          });\n          folding = false;\n          insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n        }\n      },\n      dragOverCompleted: function dragOverCompleted(_ref10) {\n        var sortable = _ref10.sortable,\n            isOwner = _ref10.isOwner,\n            insertion = _ref10.insertion,\n            activeSortable = _ref10.activeSortable,\n            parentEl = _ref10.parentEl,\n            putSortable = _ref10.putSortable;\n        var options = this.options;\n\n        if (insertion) {\n          // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n          if (isOwner) {\n            activeSortable._hideClone();\n          }\n\n          initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n          if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n            // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n            var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n            multiDragElements.forEach(function (multiDragElement) {\n              if (multiDragElement === dragEl$1) return;\n              setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n              // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n              parentEl.appendChild(multiDragElement);\n            });\n            folding = true;\n          } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n          if (!isOwner) {\n            // Only remove if not folding (folding will remove them anyways)\n            if (!folding) {\n              removeMultiDragElements();\n            }\n\n            if (multiDragElements.length > 1) {\n              var clonesHiddenBefore = clonesHidden;\n\n              activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n              if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n                multiDragClones.forEach(function (clone) {\n                  activeSortable.addAnimationState({\n                    target: clone,\n                    rect: clonesFromRect\n                  });\n                  clone.fromRect = clonesFromRect;\n                  clone.thisAnimationDuration = null;\n                });\n              }\n            } else {\n              activeSortable._showClone(sortable);\n            }\n          }\n        }\n      },\n      dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n        var dragRect = _ref11.dragRect,\n            isOwner = _ref11.isOwner,\n            activeSortable = _ref11.activeSortable;\n        multiDragElements.forEach(function (multiDragElement) {\n          multiDragElement.thisAnimationDuration = null;\n        });\n\n        if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n          clonesFromRect = _extends({}, dragRect);\n          var dragMatrix = matrix(dragEl$1, true);\n          clonesFromRect.top -= dragMatrix.f;\n          clonesFromRect.left -= dragMatrix.e;\n        }\n      },\n      dragOverAnimationComplete: function dragOverAnimationComplete() {\n        if (folding) {\n          folding = false;\n          removeMultiDragElements();\n        }\n      },\n      drop: function drop(_ref12) {\n        var evt = _ref12.originalEvent,\n            rootEl = _ref12.rootEl,\n            parentEl = _ref12.parentEl,\n            sortable = _ref12.sortable,\n            dispatchSortableEvent = _ref12.dispatchSortableEvent,\n            oldIndex = _ref12.oldIndex,\n            putSortable = _ref12.putSortable;\n        var toSortable = putSortable || this.sortable;\n        if (!evt) return;\n        var options = this.options,\n            children = parentEl.children; // Multi-drag selection\n\n        if (!dragStarted) {\n          if (options.multiDragKey && !this.multiDragKeyDown) {\n            this._deselectMultiDrag();\n          }\n\n          toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n          if (!~multiDragElements.indexOf(dragEl$1)) {\n            multiDragElements.push(dragEl$1);\n            dispatchEvent({\n              sortable: sortable,\n              rootEl: rootEl,\n              name: 'select',\n              targetEl: dragEl$1,\n              originalEvt: evt\n            }); // Modifier activated, select from last to dragEl\n\n            if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n              var lastIndex = index(lastMultiDragSelect),\n                  currentIndex = index(dragEl$1);\n\n              if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n                // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n                // (but previous selection existed)\n                var n, i;\n\n                if (currentIndex > lastIndex) {\n                  i = lastIndex;\n                  n = currentIndex;\n                } else {\n                  i = currentIndex;\n                  n = lastIndex + 1;\n                }\n\n                for (; i < n; i++) {\n                  if (~multiDragElements.indexOf(children[i])) continue;\n                  toggleClass(children[i], options.selectedClass, true);\n                  multiDragElements.push(children[i]);\n                  dispatchEvent({\n                    sortable: sortable,\n                    rootEl: rootEl,\n                    name: 'select',\n                    targetEl: children[i],\n                    originalEvt: evt\n                  });\n                }\n              }\n            } else {\n              lastMultiDragSelect = dragEl$1;\n            }\n\n            multiDragSortable = toSortable;\n          } else {\n            multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n            lastMultiDragSelect = null;\n            dispatchEvent({\n              sortable: sortable,\n              rootEl: rootEl,\n              name: 'deselect',\n              targetEl: dragEl$1,\n              originalEvt: evt\n            });\n          }\n        } // Multi-drag drop\n\n\n        if (dragStarted && this.isMultiDrag) {\n          // Do not \"unfold\" after around dragEl if reverted\n          if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n            var dragRect = getRect(dragEl$1),\n                multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n            if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n            toSortable.captureAnimationState();\n\n            if (!initialFolding) {\n              if (options.animation) {\n                dragEl$1.fromRect = dragRect;\n                multiDragElements.forEach(function (multiDragElement) {\n                  multiDragElement.thisAnimationDuration = null;\n\n                  if (multiDragElement !== dragEl$1) {\n                    var rect = folding ? getRect(multiDragElement) : dragRect;\n                    multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                    toSortable.addAnimationState({\n                      target: multiDragElement,\n                      rect: rect\n                    });\n                  }\n                });\n              } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n              // properly they must all be removed\n\n\n              removeMultiDragElements();\n              multiDragElements.forEach(function (multiDragElement) {\n                if (children[multiDragIndex]) {\n                  parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n                } else {\n                  parentEl.appendChild(multiDragElement);\n                }\n\n                multiDragIndex++;\n              }); // If initial folding is done, the elements may have changed position because they are now\n              // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n              // must be fired here as Sortable will not.\n\n              if (oldIndex === index(dragEl$1)) {\n                var update = false;\n                multiDragElements.forEach(function (multiDragElement) {\n                  if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                    update = true;\n                    return;\n                  }\n                });\n\n                if (update) {\n                  dispatchSortableEvent('update');\n                }\n              }\n            } // Must be done after capturing individual rects (scroll bar)\n\n\n            multiDragElements.forEach(function (multiDragElement) {\n              unsetRect(multiDragElement);\n            });\n            toSortable.animateAll();\n          }\n\n          multiDragSortable = toSortable;\n        } // Remove clones if necessary\n\n\n        if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n          multiDragClones.forEach(function (clone) {\n            clone.parentNode && clone.parentNode.removeChild(clone);\n          });\n        }\n      },\n      nullingGlobal: function nullingGlobal() {\n        this.isMultiDrag = dragStarted = false;\n        multiDragClones.length = 0;\n      },\n      destroyGlobal: function destroyGlobal() {\n        this._deselectMultiDrag();\n\n        off(document, 'pointerup', this._deselectMultiDrag);\n        off(document, 'mouseup', this._deselectMultiDrag);\n        off(document, 'touchend', this._deselectMultiDrag);\n        off(document, 'keydown', this._checkKeyDown);\n        off(document, 'keyup', this._checkKeyUp);\n      },\n      _deselectMultiDrag: function _deselectMultiDrag(evt) {\n        if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n        if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n        if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n        if (evt && evt.button !== 0) return;\n\n        while (multiDragElements.length) {\n          var el = multiDragElements[0];\n          toggleClass(el, this.options.selectedClass, false);\n          multiDragElements.shift();\n          dispatchEvent({\n            sortable: this.sortable,\n            rootEl: this.sortable.el,\n            name: 'deselect',\n            targetEl: el,\n            originalEvt: evt\n          });\n        }\n      },\n      _checkKeyDown: function _checkKeyDown(evt) {\n        if (evt.key === this.options.multiDragKey) {\n          this.multiDragKeyDown = true;\n        }\n      },\n      _checkKeyUp: function _checkKeyUp(evt) {\n        if (evt.key === this.options.multiDragKey) {\n          this.multiDragKeyDown = false;\n        }\n      }\n    };\n    return _extends(MultiDrag, {\n      // Static methods & properties\n      pluginName: 'multiDrag',\n      utils: {\n        /**\r\n         * Selects the provided multi-drag item\r\n         * @param  {HTMLElement} el    The element to be selected\r\n         */\n        select: function select(el) {\n          var sortable = el.parentNode[expando];\n          if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n          if (multiDragSortable && multiDragSortable !== sortable) {\n            multiDragSortable.multiDrag._deselectMultiDrag();\n\n            multiDragSortable = sortable;\n          }\n\n          toggleClass(el, sortable.options.selectedClass, true);\n          multiDragElements.push(el);\n        },\n\n        /**\r\n         * Deselects the provided multi-drag item\r\n         * @param  {HTMLElement} el    The element to be deselected\r\n         */\n        deselect: function deselect(el) {\n          var sortable = el.parentNode[expando],\n              index = multiDragElements.indexOf(el);\n          if (!sortable || !sortable.options.multiDrag || !~index) return;\n          toggleClass(el, sortable.options.selectedClass, false);\n          multiDragElements.splice(index, 1);\n        }\n      },\n      eventProperties: function eventProperties() {\n        var _this3 = this;\n\n        var oldIndicies = [],\n            newIndicies = [];\n        multiDragElements.forEach(function (multiDragElement) {\n          oldIndicies.push({\n            multiDragElement: multiDragElement,\n            index: multiDragElement.sortableIndex\n          }); // multiDragElements will already be sorted if folding\n\n          var newIndex;\n\n          if (folding && multiDragElement !== dragEl$1) {\n            newIndex = -1;\n          } else if (folding) {\n            newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n          } else {\n            newIndex = index(multiDragElement);\n          }\n\n          newIndicies.push({\n            multiDragElement: multiDragElement,\n            index: newIndex\n          });\n        });\n        return {\n          items: _toConsumableArray(multiDragElements),\n          clones: [].concat(multiDragClones),\n          oldIndicies: oldIndicies,\n          newIndicies: newIndicies\n        };\n      },\n      optionListeners: {\n        multiDragKey: function multiDragKey(key) {\n          key = key.toLowerCase();\n\n          if (key === 'ctrl') {\n            key = 'Control';\n          } else if (key.length > 1) {\n            key = key.charAt(0).toUpperCase() + key.substr(1);\n          }\n\n          return key;\n        }\n      }\n    });\n  }\n\n  function insertMultiDragElements(clonesInserted, rootEl) {\n    multiDragElements.forEach(function (multiDragElement, i) {\n      var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n      if (target) {\n        rootEl.insertBefore(multiDragElement, target);\n      } else {\n        rootEl.appendChild(multiDragElement);\n      }\n    });\n  }\n  /**\r\n   * Insert multi-drag clones\r\n   * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n   * @param  {HTMLElement} rootEl\r\n   */\n\n\n  function insertMultiDragClones(elementsInserted, rootEl) {\n    multiDragClones.forEach(function (clone, i) {\n      var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n      if (target) {\n        rootEl.insertBefore(clone, target);\n      } else {\n        rootEl.appendChild(clone);\n      }\n    });\n  }\n\n  function removeMultiDragElements() {\n    multiDragElements.forEach(function (multiDragElement) {\n      if (multiDragElement === dragEl$1) return;\n      multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n    });\n  }\n\n  Sortable.mount(new AutoScrollPlugin());\n  Sortable.mount(Remove, Revert);\n\n  Sortable.mount(new SwapPlugin());\n  Sortable.mount(new MultiDragPlugin());\n\n  return Sortable;\n\n}));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(9282);\n"],"sourceRoot":""}